<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js基础 | lana&#39;s home</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="vuepress 前端个人学习网站">
    
    <link rel="preload" href="/assets/css/0.styles.98530cad.css" as="style"><link rel="preload" href="/assets/js/app.a4743452.js" as="script"><link rel="preload" href="/assets/js/2.b72805e3.js" as="script"><link rel="preload" href="/assets/js/90.cdd9df6a.js" as="script"><link rel="prefetch" href="/assets/js/10.97c6631e.js"><link rel="prefetch" href="/assets/js/100.ddd238ad.js"><link rel="prefetch" href="/assets/js/101.acf46de3.js"><link rel="prefetch" href="/assets/js/102.7ecc34c5.js"><link rel="prefetch" href="/assets/js/103.9abec0c7.js"><link rel="prefetch" href="/assets/js/104.99a0bd64.js"><link rel="prefetch" href="/assets/js/105.5bd4279e.js"><link rel="prefetch" href="/assets/js/106.4a1a1e6d.js"><link rel="prefetch" href="/assets/js/107.53190e25.js"><link rel="prefetch" href="/assets/js/108.afb416d9.js"><link rel="prefetch" href="/assets/js/109.9c89f8cf.js"><link rel="prefetch" href="/assets/js/11.efe147a8.js"><link rel="prefetch" href="/assets/js/110.77f01a7c.js"><link rel="prefetch" href="/assets/js/111.f8ccec3a.js"><link rel="prefetch" href="/assets/js/112.a1b70a36.js"><link rel="prefetch" href="/assets/js/113.f74d3176.js"><link rel="prefetch" href="/assets/js/114.9f4f70ac.js"><link rel="prefetch" href="/assets/js/115.3e915f82.js"><link rel="prefetch" href="/assets/js/116.21d4d9f8.js"><link rel="prefetch" href="/assets/js/117.ed1ac975.js"><link rel="prefetch" href="/assets/js/118.b60ec45f.js"><link rel="prefetch" href="/assets/js/119.a28f9722.js"><link rel="prefetch" href="/assets/js/12.f8166b62.js"><link rel="prefetch" href="/assets/js/120.5f45ba33.js"><link rel="prefetch" href="/assets/js/121.e2c73c6e.js"><link rel="prefetch" href="/assets/js/122.bea0d35f.js"><link rel="prefetch" href="/assets/js/123.4918a056.js"><link rel="prefetch" href="/assets/js/124.e9d5fd6b.js"><link rel="prefetch" href="/assets/js/125.378cd9ad.js"><link rel="prefetch" href="/assets/js/126.785be7e4.js"><link rel="prefetch" href="/assets/js/127.2dfe1120.js"><link rel="prefetch" href="/assets/js/128.0eeadbcb.js"><link rel="prefetch" href="/assets/js/129.ffd3ffd2.js"><link rel="prefetch" href="/assets/js/13.669aa6cb.js"><link rel="prefetch" href="/assets/js/130.e3caaa90.js"><link rel="prefetch" href="/assets/js/131.8914dd22.js"><link rel="prefetch" href="/assets/js/132.0ae37932.js"><link rel="prefetch" href="/assets/js/133.e989899b.js"><link rel="prefetch" href="/assets/js/134.ea062f20.js"><link rel="prefetch" href="/assets/js/135.6c137b49.js"><link rel="prefetch" href="/assets/js/14.c9aa70a1.js"><link rel="prefetch" href="/assets/js/15.3d05e5f2.js"><link rel="prefetch" href="/assets/js/16.360281d8.js"><link rel="prefetch" href="/assets/js/17.ff7cabb3.js"><link rel="prefetch" href="/assets/js/18.be16eeed.js"><link rel="prefetch" href="/assets/js/19.81b3a31e.js"><link rel="prefetch" href="/assets/js/20.472bc449.js"><link rel="prefetch" href="/assets/js/21.86395f2b.js"><link rel="prefetch" href="/assets/js/22.6c69ed50.js"><link rel="prefetch" href="/assets/js/23.2f198631.js"><link rel="prefetch" href="/assets/js/24.748c9bc2.js"><link rel="prefetch" href="/assets/js/25.c5065323.js"><link rel="prefetch" href="/assets/js/26.61d441a1.js"><link rel="prefetch" href="/assets/js/27.bfd0a986.js"><link rel="prefetch" href="/assets/js/28.bafeb054.js"><link rel="prefetch" href="/assets/js/29.0d2a1bfd.js"><link rel="prefetch" href="/assets/js/3.7f8809fd.js"><link rel="prefetch" href="/assets/js/30.8bb40757.js"><link rel="prefetch" href="/assets/js/31.eac619f5.js"><link rel="prefetch" href="/assets/js/32.04c63c5c.js"><link rel="prefetch" href="/assets/js/33.ae09c55e.js"><link rel="prefetch" href="/assets/js/34.1145a6f4.js"><link rel="prefetch" href="/assets/js/35.feb9083f.js"><link rel="prefetch" href="/assets/js/36.a586ce8a.js"><link rel="prefetch" href="/assets/js/37.c61e20e9.js"><link rel="prefetch" href="/assets/js/38.991c3427.js"><link rel="prefetch" href="/assets/js/39.23356a49.js"><link rel="prefetch" href="/assets/js/4.6819ae80.js"><link rel="prefetch" href="/assets/js/40.a3ca9111.js"><link rel="prefetch" href="/assets/js/41.649b9d9b.js"><link rel="prefetch" href="/assets/js/42.fde8ad7b.js"><link rel="prefetch" href="/assets/js/43.2d876a7c.js"><link rel="prefetch" href="/assets/js/44.64c20de7.js"><link rel="prefetch" href="/assets/js/45.a901a632.js"><link rel="prefetch" href="/assets/js/46.4ac83b64.js"><link rel="prefetch" href="/assets/js/47.2b45c49a.js"><link rel="prefetch" href="/assets/js/48.2bc12623.js"><link rel="prefetch" href="/assets/js/49.52a95dcd.js"><link rel="prefetch" href="/assets/js/5.20de2bc4.js"><link rel="prefetch" href="/assets/js/50.f445c922.js"><link rel="prefetch" href="/assets/js/51.07570e18.js"><link rel="prefetch" href="/assets/js/52.cf21a2b8.js"><link rel="prefetch" href="/assets/js/53.77792ddd.js"><link rel="prefetch" href="/assets/js/54.f19c487a.js"><link rel="prefetch" href="/assets/js/55.7fb0d05b.js"><link rel="prefetch" href="/assets/js/56.62fd0b66.js"><link rel="prefetch" href="/assets/js/57.1d6b0809.js"><link rel="prefetch" href="/assets/js/58.1aed920b.js"><link rel="prefetch" href="/assets/js/59.c2ab9dbe.js"><link rel="prefetch" href="/assets/js/6.e9784f3e.js"><link rel="prefetch" href="/assets/js/60.f4e387a9.js"><link rel="prefetch" href="/assets/js/61.735cc066.js"><link rel="prefetch" href="/assets/js/62.312489f2.js"><link rel="prefetch" href="/assets/js/63.dd2a2d4e.js"><link rel="prefetch" href="/assets/js/64.67dfd073.js"><link rel="prefetch" href="/assets/js/65.c2c22de8.js"><link rel="prefetch" href="/assets/js/66.7ea30a4b.js"><link rel="prefetch" href="/assets/js/67.6913be8c.js"><link rel="prefetch" href="/assets/js/68.b743701c.js"><link rel="prefetch" href="/assets/js/69.088259eb.js"><link rel="prefetch" href="/assets/js/7.80ddef84.js"><link rel="prefetch" href="/assets/js/70.10e2101b.js"><link rel="prefetch" href="/assets/js/71.11121db3.js"><link rel="prefetch" href="/assets/js/72.38811b9b.js"><link rel="prefetch" href="/assets/js/73.b5030976.js"><link rel="prefetch" href="/assets/js/74.d218c8d5.js"><link rel="prefetch" href="/assets/js/75.89c8d415.js"><link rel="prefetch" href="/assets/js/76.998def7e.js"><link rel="prefetch" href="/assets/js/77.6cff4b72.js"><link rel="prefetch" href="/assets/js/78.45b13ba4.js"><link rel="prefetch" href="/assets/js/79.50d5b3d0.js"><link rel="prefetch" href="/assets/js/8.4ebeab97.js"><link rel="prefetch" href="/assets/js/80.e38925eb.js"><link rel="prefetch" href="/assets/js/81.c712e794.js"><link rel="prefetch" href="/assets/js/82.f4018c72.js"><link rel="prefetch" href="/assets/js/83.878fb392.js"><link rel="prefetch" href="/assets/js/84.7ddaa3ca.js"><link rel="prefetch" href="/assets/js/85.06c8fa8b.js"><link rel="prefetch" href="/assets/js/86.b889a2e3.js"><link rel="prefetch" href="/assets/js/87.2f3171f1.js"><link rel="prefetch" href="/assets/js/88.1b0c6839.js"><link rel="prefetch" href="/assets/js/89.293034a1.js"><link rel="prefetch" href="/assets/js/9.07e73bd0.js"><link rel="prefetch" href="/assets/js/91.e53063a5.js"><link rel="prefetch" href="/assets/js/92.0a41da3b.js"><link rel="prefetch" href="/assets/js/93.83c37c7e.js"><link rel="prefetch" href="/assets/js/94.14eea0cb.js"><link rel="prefetch" href="/assets/js/95.18279896.js"><link rel="prefetch" href="/assets/js/96.e06d8e4e.js"><link rel="prefetch" href="/assets/js/97.2b60994e.js"><link rel="prefetch" href="/assets/js/98.28ad17a5.js"><link rel="prefetch" href="/assets/js/99.2abf3996.js">
    <link rel="stylesheet" href="/assets/css/0.styles.98530cad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="lana's home" class="logo"> <span class="site-name can-hide">lana's home</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><span class="title">随笔</span> <span class="arrow down"></span></button> <button type="button" aria-label="随笔" class="mobile-dropdown-title"><span class="title">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/html5/" class="nav-link">
  Html5
</a></li><li class="dropdown-subitem"><a href="/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-subitem"><a href="/front/js/" class="nav-link router-link-active">
  js
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/backend/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-subitem"><a href="/backend/mongodb/" class="nav-link">
  Mongodb
</a></li></ul></li><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/guide.html" class="nav-link">
  指引
</a></div><div class="nav-item"><a href="https://gitee.com/lanasine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cats1/vuepresshome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><span class="title">随笔</span> <span class="arrow down"></span></button> <button type="button" aria-label="随笔" class="mobile-dropdown-title"><span class="title">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/html5/" class="nav-link">
  Html5
</a></li><li class="dropdown-subitem"><a href="/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-subitem"><a href="/front/js/" class="nav-link router-link-active">
  js
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/backend/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-subitem"><a href="/backend/mongodb/" class="nav-link">
  Mongodb
</a></li></ul></li><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/guide.html" class="nav-link">
  指引
</a></div><div class="nav-item"><a href="https://gitee.com/lanasine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cats1/vuepresshome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Backend</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Front</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/" aria-current="page" class="sidebar-link">前端</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Echarts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Html 5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/js/" aria-current="page" class="sidebar-link">js</a></li><li><a href="/front/js/currying.html" class="sidebar-link">柯里化</a></li><li><a href="/front/js/es.html" class="sidebar-link">es</a></li><li><a href="/front/js/es5-es6-typescript.html" class="sidebar-link">/front/js/es5-es6-typescript.html</a></li><li><a href="/front/js/generator.html" class="sidebar-link">Generator 函数的语法</a></li><li><a href="/front/js/httpxie-yi.html" class="sidebar-link">HTTP协议</a></li><li><a href="/front/js/promise.html" class="sidebar-link">Promise</a></li><li><a href="/front/js/symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/front/js/array.html" class="sidebar-link">数组</a></li><li><a href="/front/js/async.html" class="sidebar-link">async 函数</a></li><li><a href="/front/js/class.html" class="sidebar-link">class</a></li><li><a href="/front/js/function.html" class="sidebar-link">函数</a></li><li><a href="/front/js/javascript.html" class="sidebar-link">/front/js/javascript.html</a></li><li><a href="/front/js/js-question.html" class="sidebar-link">JavaScript 进阶问题</a></li><li><a href="/front/js/jsji-chu.html" aria-current="page" class="active sidebar-link">js基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#dom-常用-api" class="sidebar-link">DOM 常用 API</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#null-和-undefined-的区别" class="sidebar-link">null 和 undefined 的区别</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#事件流" class="sidebar-link">事件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#addeventlistener" class="sidebar-link">addEventListener</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#阻止冒泡" class="sidebar-link">阻止冒泡</a></li></ul></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#typeof-和-instanceof-的区别" class="sidebar-link">typeof 和 instanceof 的区别</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#一句话描述-this" class="sidebar-link">一句话描述 this</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#js-位置" class="sidebar-link">JS 位置</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#js-拖拽" class="sidebar-link">JS 拖拽</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#settimeout-实现-setinterval" class="sidebar-link">setTimeout 实现 setInterval</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#实现-sleep" class="sidebar-link">实现 Sleep</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#执行上下文" class="sidebar-link">执行上下文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#执行栈" class="sidebar-link">执行栈</a></li></ul></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#函数式编程" class="sidebar-link">函数式编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#函数式编程特点" class="sidebar-link">函数式编程特点</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#纯函数" class="sidebar-link">纯函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#渐进式网络应用-pwa" class="sidebar-link">渐进式网络应用（PWA）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#优点" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#缺点" class="sidebar-link">缺点</a></li></ul></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#规范化" class="sidebar-link">规范化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#commonjs-规范" class="sidebar-link">CommonJS 规范</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#amd-规范" class="sidebar-link">AMD 规范</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#cmd-规范" class="sidebar-link">CMD 规范</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#es6-modules-规范" class="sidebar-link">ES6 Modules 规范</a></li></ul></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#babel-编译原理" class="sidebar-link">babel 编译原理</a></li><li class="sidebar-sub-header"><a href="/front/js/jsji-chu.html#代码回收规则如下" class="sidebar-link">代码回收规则如下：</a></li></ul></li><li><a href="/front/js/jsxiao-ji-qiao.html" class="sidebar-link">JS 中的!与!!用法</a></li><li><a href="/front/js/jsnan-dian.html" class="sidebar-link">JavaScript难点</a></li><li><a href="/front/js/let.html" class="sidebar-link">es6</a></li><li><a href="/front/js/module.html" class="sidebar-link">module</a></li><li><a href="/front/js/momentjs.html" class="sidebar-link">momentjs</a></li><li><a href="/front/js/object.html" class="sidebar-link">对象</a></li><li><a href="/front/js/set.html" class="sidebar-link">Set</a></li><li><a href="/front/js/style.html" class="sidebar-link">编程风格</a></li><li><a href="/front/js/shi-jian-mo-xing.html" class="sidebar-link">事件模型</a></li><li><a href="/front/js/ben-di-cun-chu-.html" class="sidebar-link">本地存储</a></li><li><a href="/front/js/liu-lan-qi-xuan-ran-yuan-li.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/front/js/bi-bao.html" class="sidebar-link">闭包</a></li><li><a href="/front/js/fang-dou-yu-jie-liu.html" class="sidebar-link">防抖（debounce）</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Treejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Vscode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js基础"><a href="#js基础" class="header-anchor">#</a> js基础</h1> <h2 id="dom-常用-api"><a href="#dom-常用-api" class="header-anchor">#</a> DOM 常用 API</h2> <p>可以使用 <code>document</code> 或 <code>window</code> 元素的 API 来操作文档本身或获取文档的子类</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 获取元素
const node = document.getElementById(id); // 或者 querySelector(&quot;.class|#id|name&quot;);
// 创建元素
const heading = document.createElement(name); // name: p、div、h1...
heading.innerHTML = '';
// 添加元素
document.body.appendChild(heading);
// 删除元素
document.body.removeChild(node);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="null-和-undefined-的区别"><a href="#null-和-undefined-的区别" class="header-anchor">#</a> null 和 undefined 的区别</h2> <ul><li><p><code>null</code>：</p> <p><code>null</code>是**“不代表任何值的值”**。<code>null</code>是已明确定义给变量的值。在此示例中，当<code>fs.readFile</code>方法未引发错误时，我们将获得<code>null</code>值</p></li></ul> <ol><li><code>Number(null)</code> 得到 <code>0</code>。</li> <li>作为函数的参数，表示该函数的参数不是对象。</li> <li>作为对象原型链的终点。<code>Object.prototype.__proto__ === null</code>。</li> <li>Boolean(null)===false或!!null===false</li></ol> <ul><li><p><code>undefined</code>：</p> <p><code>undefined</code>是未指定特定值的变量的默认值，或者没有显式返回值的函数，如：<code>console.log(1)</code>，还包括对象中不存在的属性，这些 JS 引擎都会为其分配 <code>undefined</code> 值。</p> <p>Boolean(<code>undefined</code>)===false或!!<code>undefined</code>===false</p></li></ul> <ol><li><code>Number(undefined)</code> 得到 <code>NaN</code>。</li> <li>变量被声明但是没有赋值，等于 <code>undefined</code>。</li> <li>调用函数时，对应的参数没有提供，也是 <code>undefined</code>。</li> <li>对象没有赋值，这个属性的值为 <code>undefined</code>。</li> <li>函数没有返回值，默认返回 <code>undefined</code>。</li></ol> <p>在比较<code>null</code>和<code>undefined</code>时，我们使用<code>==</code>时得到<code>true</code>，使用<code>===</code>时得到<code>false</code>:</p> <h2 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h2> <p>什么是事件流：事件流描述的是从页面中接收事件的顺序，<code>DOM 2</code> 级事件流包括下面几个阶段。</p> <ul><li>事件捕获阶段</li> <li>处于目标阶段</li> <li>事件冒泡阶段</li></ul> <h3 id="addeventlistener"><a href="#addeventlistener" class="header-anchor">#</a> addEventListener</h3> <p><code>addEventListener</code> 方法将指定的监听器注册到 <code>EventTarget</code> 上，当该对象触发指定的事件时，指定的回调函数就会被执行。</p> <p><code>addEventListener</code> 事件目标可以是文档上的元素 <code>Element</code>、<code>Document</code> 和 <code>Window</code> 或者任何其他支持事件的对象（例如 <code>XMLHttpRequest</code>）。</p> <ul><li>语法：<code>target.addEventListener(type, listener, options/useCapture)</code></li></ul> <ol><li><code>type</code>：表示监听事件类型的字符串</li> <li><code>listener</code>：所监听的事件触发，会接受一个事件通知对象。</li> <li><code>options</code>：一个指定有关 <code>listener</code> 属性的可选参数对象。可选值有 <code>capture</code>（事件捕获阶段传播到这里触发）、<code>once</code>（在 <code>listener</code> 添加之后最多值调用一次）、<code>passive</code>（设置为 <code>true</code> 时表示 <code>listener</code> 永远不会调用 <code>preventDefault()</code>）。</li> <li><code>useCapture</code>：在 DOM 树中，注册了 <code>listener</code> 的元素，是否要先于它下面的 <code>EventTarget</code> 调用该 <code>listener</code>。</li></ol> <p><code>addEventListener</code> 的第三个参数涉及到冒泡和捕获，为 <code>true</code> 时是捕获，为 <code>false</code> 时是冒泡。</p> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p>事件捕获和事件冒泡分别是 <strong>网景</strong>（Netscape）和 <strong>IE</strong> 对 <code>DOM</code> 事件产生顺序的描述。</p> <p><strong>网景</strong> 认为 <code>DOM</code> 接收的事件应该最先是 <code>window</code>，然后到 <code>document</code>，接着一层一层往下，最后才到具体的元素接收到事件，即 <strong>事件捕获</strong>。</p> <p><strong>IE</strong> 则认为 <code>DOM</code> 事件应该是具体元素先接收到，然后再一层一层往上，接着到 <code>document</code>，最后才到 <code>window</code>，即 <strong>事件冒泡</strong>。</p> <p>最后 <strong>W3C</strong> 对这两种方案进行了统一：将 <code>DOM</code> 事件分为两个阶段，事件捕获和事件冒泡阶段。</p> <p>当一个元素被点击，首先是事件捕获阶段，<code>window</code> 最先接收事件，然后一层一层往下捕获，最后由具体元素接收；之后再由具体元素再一层一层往上冒泡，到 <code>window</code> 接收事件。</p> <ul><li><strong>事件冒泡</strong>：当给某个目标元素绑定了事件之后，这个事件会依次在它的父级元素中被触发（当然前提是这个父级元素也有这个同名称的事件，比如子元素和父元素都绑定了 <code>click</code> 事件就触发父元素的 <code>click</code>）。</li> <li><strong>事件捕获</strong>：和冒泡相反，会从上层传递到下层。</li></ul> <h3 id="阻止冒泡"><a href="#阻止冒泡" class="header-anchor">#</a> 阻止冒泡</h3> <p>event.stopPropagation();</p> <p>并不是所有的事件都有冒泡，例如：</p> <ul><li><code>onblur</code></li> <li><code>onfocus</code></li> <li><code>onmouseenter</code></li> <li><code>onmouseleave</code></li></ul> <h2 id="typeof-和-instanceof-的区别"><a href="#typeof-和-instanceof-的区别" class="header-anchor">#</a> typeof 和 instanceof 的区别</h2> <ul><li><code>typeof</code>：对某个变量类型的检测，基本类型除了 <code>null</code> 之外，都能正常地显示为对应的类型，引用类型除了函数会显示为 <code>function</code>，其他都显示为 <code>object</code>。</li> <li><code>instanceof</code> 主要用于检测某个构造函数的原型对象在不在某个对象的原型链上。</li></ul> <h2 id="一句话描述-this"><a href="#一句话描述-this" class="header-anchor">#</a> 一句话描述 this</h2> <p>对于函数而言，指向最后调用函数的那个对象，是函数运行时内部自动生成的一个内部对象，只能在函数内部使用；对于全局而言，<code>this</code> 指向 <code>window</code>。</p> <h2 id="js-位置"><a href="#js-位置" class="header-anchor">#</a> JS 位置</h2> <ul><li><code>clientHeight</code>：表示可视区域的高度，不包含 <code>border</code> 和滚动条</li> <li><code>offsetHeight</code>：表示可视区域的高度，包含了 <code>border</code> 和滚动条</li> <li><code>scrollHeight</code>：表示了所有区域的高度，包含了因为滚动被隐藏的部分</li> <li>clientTop<code>：表示边框</code>border<code>的厚度，在未指定的情况下一般为</code>0</li> <li><code>scrollTop</code>：滚动后被隐藏的高度，获取对象相对于由 <code>offsetParent</code> 属性指定的父坐标（CSS 定位的元素或 <code>body</code> 元素）距离顶端的高度</li></ul> <h2 id="js-拖拽"><a href="#js-拖拽" class="header-anchor">#</a> JS 拖拽</h2> <ol><li>通过 <code>mousedown</code>、<code>mousemove</code>、<code>mouseup</code> 方法实现</li> <li>通过 HTML5 的 <code>Drag</code> 和 <code>Drop</code> 实现</li></ol> <h2 id="settimeout-实现-setinterval"><a href="#settimeout-实现-setinterval" class="header-anchor">#</a> setTimeout 实现 setInterval</h2> <h2 id="实现-sleep"><a href="#实现-sleep" class="header-anchor">#</a> 实现 Sleep</h2> <p>实现 <code>1000</code> 毫秒后执行其他内容：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const sleep = time =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(time);
    }, time);
  });
};
sleep(1000).then((res) =&gt; {
  console.log(res);
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="执行上下文"><a href="#执行上下文" class="header-anchor">#</a> 执行上下文</h2> <p>JavaScript 中有 3 种执行上下文类型：</p> <ul><li><strong>全局执行上下文</strong>：这是默认或者说基础的上下文，任何不在函数内部的代码都在全局上下文中。它会执行两件事：创建一个全局的 <code>window</code> 对象（浏览器的情况下），并且设置 <code>this</code> 的值等于这个全局对象。一个程序中只会有一个全局执行上下文。</li> <li><strong>函数执行上下文</strong>：每当一个函数被调用时, 都会为该函数创建一个新的上下文。每个函数都有它自己的执行上下文，不过是在函数被调用时创建的。函数上下文可以有任意多个。每当一个新的执行上下文被创建，它会按定义的顺序执行一系列步骤。</li> <li><strong>Eval 函数执行上下文</strong>：执行在 <code>eval</code> 函数内部的代码也会有它属于自己的执行上下文，但由于 JavaScript 开发者并不经常使用 <code>eval</code>，所以在这里我不会讨论它。</li></ul> <h3 id="执行栈"><a href="#执行栈" class="header-anchor">#</a> 执行栈</h3> <p>执行栈，也就是在其它编程语言中所说的 “调用栈”，是一种拥有 <code>LIFO</code>（后进先出）数据结构的栈，被用来存储代码运行时创建的所有执行上下文。</p> <h2 id="函数式编程"><a href="#函数式编程" class="header-anchor">#</a> 函数式编程</h2> <p>函数式编程（Functional Programming，简称 FP）。</p> <p>函数式编程：通过对面向对象式编程代码的拆分，将各个功能独立出来，从而达到功能独立、易复用等目的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * @name 改变人名展示方式
 * @param {array} arr 需要改变的数组
 * @param {string} type 支持不同格式的人名
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @name 数组改变成对象
 * @param {array} arr 需要改变的数组
 * @param {string} key 对应变成什么字段
 * @return {object} 返回改变后的对象
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">arrToObj</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">:</span> item <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">arrToObj</span><span class="token punctuation">(</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'john-reese'</span><span class="token punctuation">,</span> <span class="token string">'harold-finch'</span><span class="token punctuation">,</span> <span class="token string">'sameen-shaw'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ { name: 'John Reese' }, { name: 'Harold Finch' }, { name: 'Sameen Shaw' } ]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="函数式编程特点"><a href="#函数式编程特点" class="header-anchor">#</a> 函数式编程特点</h3> <ol><li><strong>函数是一等公民</strong>。可以利用这点让它支持抽取到外部。</li> <li><strong>声明做某件时间</strong>。函数式编程大多数声明某个函数需要做什么，而不是它怎么做的。</li> <li><strong>便于垃圾回收</strong>。函数内部的变量方便垃圾回收，不会产生太多的变量，用户不需要大量的定义。</li> <li><strong>数据不可变</strong>。函数式编程要求所有的数据都是不可变的，如果需要修改某个对象，应该新建后再修改，而不是污染原本的数据。</li> <li><strong>无状态</strong>。不管什么时候运行，同一个函数对相同的输入返回相同的输出，而不依赖外部状态的变化。</li> <li><strong>无副作用</strong>。功能 A 应该仅仅为了完成它的实现，而不会随着外部的改变而改变，这样当它执行完毕之后，就可以将其内部数据进行回收。并且它不会修改传入的参数。</li></ol> <p>注重引用值（Object、Array）的传递，尽可能不要污染传入的数据。</p> <h3 id="纯函数"><a href="#纯函数" class="header-anchor">#</a> 纯函数</h3> <p>纯函数的概念有 2 点：</p> <ol><li><strong>不依赖外部状态（无状态）</strong>：函数的运行结果不依赖全局变量，<code>this</code> 指针，<code>IO</code> 操作等。</li> <li><strong>没有副作用（数据不变）</strong>：不修改全局变量，不修改入参。</li></ol> <p>优点：</p> <ul><li>便于测试和优化</li> <li>可缓存性</li> <li>自文档化</li> <li>更少 Bug</li></ul> <h2 id="渐进式网络应用-pwa"><a href="#渐进式网络应用-pwa" class="header-anchor">#</a> 渐进式网络应用（PWA）</h2> <p>渐进式网络应用（PWA）是谷歌在 2015 年底提出的概念。基本上算是 Web 应用程序，但在外观和感觉上与原生 App 类似。支持 PWA 的网站可以提供脱机工作、推送通知和设备硬件访问等功能。</p> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h3> <ul><li><strong>更小更快</strong>: 渐进式的 Web 应用程序比原生应用程序小得多。他们甚至不需要安装。这是他们没有浪费磁盘空间和加载速度非常快。</li> <li><strong>响应式界面</strong>: PWA 支持的网页能够自动适应各种屏幕大小。它可以是手机、平板、台式机或笔记本。</li> <li><strong>无需更新</strong>: 大多数移动应用程序需要每周定期更新。与普通网站一样，每当用户交互发生且不需要应用程序或游戏商店批准时，PWA 总是加载最新更新版本。</li> <li><strong>高性价比</strong>：原生移动应用需要分别为 Android 和 iOS 设备开发，开发成本非常高。另一方面，PWA 有着相同的功能，但只是先前价格的一小部分，开发成本低。</li> <li><strong>SEO 优势</strong>：搜索引擎可以发现 PWA，并且加载速度非常快。就像其他网站一样，它们的链接也可以共享。提供良好的用户体验和结果，在 SEO 排名提高。</li> <li><strong>脱机功能</strong>：由于 Service Worker API 的支持，可以在脱机或低internet连接中访问PWAs。</li> <li><strong>安全性</strong>：PWA 通过 HTTPS 连接传递，并在每次交互中保护用户数据。</li> <li><strong>推送通知</strong>：通过推送通知的支持，PWA 轻松地与用户进行交互，提供非常棒的用户体验。</li> <li><strong>绕过应用商店</strong>：原生 App 如果需要任何新的更新，需要应用商店几天的审批，且有被拒绝或禁止的可能性，对于这方面来说，PWA 有它独特的优势，不需要 App Store 支持。更新版本可以直接从 Web 服务器加载，无需 App Store 批准。</li> <li><strong>零安装</strong>：在浏览过程中，PWA 会在手机和平板电脑上有自己的图标，就像移动应用程序一样，但不需要经过冗长的安装过程。</li></ul> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h3> <ul><li><strong>对系统功能的访问权限较低</strong>：目前 PWA 对本机系统功能的访问权限比原生 App 有限。而且，所有的浏览器都不支持它的全部功能，但可能在不久的将来，它将成为新的开发标准。</li> <li><strong>多数 Android，少数 iOS</strong>：目前更多的支持来自 Android。iOS 系统只提供了部分。</li> <li><strong>没有审查标准</strong>：PWA 不需要任何适用于应用商店中本机应用的审查，这可能会加快进程，但缺乏从应用程序商店中获取推广效益。</li></ul> <h2 id="规范化"><a href="#规范化" class="header-anchor">#</a> 规范化</h2> <h3 id="commonjs-规范"><a href="#commonjs-规范" class="header-anchor">#</a> CommonJS 规范</h3> <ul><li>导出：<code>module.exports = {}</code>、<code>exports.xxx = 'xxx'</code></li> <li>导入：<code>require(./index.js)</code></li> <li>查找方式：查找当前目录是否具有文件，没有则查找当前目录的 <code>node_modules</code> 文件。再没有，冒泡查询，一直往系统中的 <code>npm</code> 目录查找。</li></ul> <p>它的特点：</p> <ol><li>所有代码在模块作用域内运行，不会污染其他文件</li> <li><code>require</code> 得到的值是值的拷贝，即你引用其他 JS 文件的变量，修改操作了也不会影响其他文件</li></ol> <p>它也有自己的缺陷：</p> <ol><li>应用层面。在 <code>index.html</code> 中做 <code>var index = require('./index.js')</code> 操作报错，因为它最终是后台执行的，只能是 <code>index.js</code> 引用 <code>index2.js</code> 这种方式。</li> <li>同步加载问题。<code>CommonJS</code> 规范中模块是同步加载的，即在 <code>index.js</code> 中加载 <code>index2.js</code>，如果 <code>index2.js</code> 卡住了，那就要等很久。</li></ol> <h3 id="amd-规范"><a href="#amd-规范" class="header-anchor">#</a> AMD 规范</h3> <p>可以采用异步方式加载模块。<code>AMD</code> 是 <code>Asynchronous Module Definition</code> 的缩写，也就是 “异步模块定义”，记住这个 <code>async</code> 就知道它是异步的了。</p> <h3 id="cmd-规范"><a href="#cmd-规范" class="header-anchor">#</a> CMD 规范</h3> <p>CMD (Common Module Definition), 是 seajs 推崇的规范，CMD 则是依赖就近，用的时候再 <code>require</code>。</p> <p>AMD 和 CMD 最大的区别是对依赖模块的执行时机处理不同，注意不是加载的时机或者方式不同，二者皆为异步加载模块。</p> <h3 id="es6-modules-规范"><a href="#es6-modules-规范" class="header-anchor">#</a> ES6 Modules 规范</h3> <ul><li>导出：</li></ul> <ol><li><code>export a</code></li> <li><code>export { a }</code></li> <li><code>export { a as jsliang }</code></li> <li><code>export default function() {}</code></li></ol> <ul><li>导入：</li></ul> <ol><li><code>import './index'</code></li> <li><code>import { a } from './index.js'</code></li> <li><code>import { a as jsliang } from './index.js'</code></li> <li><code>import * as index from './index.js'</code></li></ol> <p>特点：</p> <ol><li><code>export</code> 命令和 <code>import</code> 命令可以出现在模块的任何位置，只要处于模块顶层就可以。 如果处于块级作用域内，就会报错，这是因为处于条件代码块之中，就没法做静态优化了，违背了 ES6 模块的设计初衷。</li> <li><code>import</code> 命令具有提升效果，会提升到整个模块的头部，首先执行。</li></ol> <p>和 <code>CommonJS</code> 区别：</p> <ul><li><code>CommonJS</code> 模块是运行时加载，<code>ES6 Modules</code> 是编译时输出接口</li> <li><code>CommonJS</code> 输出是值的拷贝；<code>ES6 Modules</code> 输出的是值的引用，被输出模块的内部的改变会影响引用的改变</li> <li><code>CommonJs</code> 导入的模块路径可以是一个表达式，因为它使用的是<code>require()</code> 方法；而 <code>ES6 Modules</code> 只能是字符串</li> <li><code>CommonJS this</code> 指向当前模块，<code>ES6 Modules</code> 的 <code>this</code> 指向 <code>undefined</code></li> <li><code>ES6 Modules</code> 中没有这些顶层变量：<code>arguments</code>、<code>require</code>、<code>module</code>、<code>exports</code>、<code>__filename</code>、<code>__dirname</code></li></ul> <h2 id="babel-编译原理"><a href="#babel-编译原理" class="header-anchor">#</a> babel 编译原理</h2> <ul><li><code>babylon</code> 将 <code>ES6/ES7</code> 代码解析成 <code>AST</code></li> <li><code>babel-traverse</code> 对 <code>AST</code> 进行遍历转译，得到新的 <code>AST</code></li> <li>新 <code>AST</code> 通过 <code>babel-generator</code> 转换成 <code>ES5</code></li></ul> <h2 id="代码回收规则如下"><a href="#代码回收规则如下" class="header-anchor">#</a> <strong>代码回收规则如下：</strong></h2> <p><strong>1.全局变量不会被回收。</strong></p> <p><strong>2.局部变量会被回收，也就是函数一旦运行完以后，函数内部的东西都会被销毁。</strong></p> <p><strong>3.只要被另外一个作用域所引用就不会被回收</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var i = 1;
var i = 2;
var add = function() {
    var i = 0;
    return function()
{
        i++;
        console.log(i);
    }
}();
add();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>1：全局变量i不会被回收</p> <p>2：全局变量add不会被回收</p> <p>3：闭包引用的局部变量i不会被回收</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/cats1/vuepresshome/edit/main/docs/front/js/js基础.md" target="_blank" rel="noopener noreferrer">有问题需改善此页面!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front/js/js-question.html" class="prev">
        JavaScript 进阶问题
      </a></span> <span class="next"><a href="/front/js/jsxiao-ji-qiao.html">
        JS 中的!与!!用法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a4743452.js" defer></script><script src="/assets/js/2.b72805e3.js" defer></script><script src="/assets/js/90.cdd9df6a.js" defer></script>
  </body>
</html>
