<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mongodb | lana&#39;s home</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="vuepress 前端个人学习网站">
    
    <link rel="preload" href="/assets/css/0.styles.98530cad.css" as="style"><link rel="preload" href="/assets/js/app.a4743452.js" as="script"><link rel="preload" href="/assets/js/2.b72805e3.js" as="script"><link rel="preload" href="/assets/js/29.0d2a1bfd.js" as="script"><link rel="prefetch" href="/assets/js/10.97c6631e.js"><link rel="prefetch" href="/assets/js/100.ddd238ad.js"><link rel="prefetch" href="/assets/js/101.acf46de3.js"><link rel="prefetch" href="/assets/js/102.7ecc34c5.js"><link rel="prefetch" href="/assets/js/103.9abec0c7.js"><link rel="prefetch" href="/assets/js/104.99a0bd64.js"><link rel="prefetch" href="/assets/js/105.5bd4279e.js"><link rel="prefetch" href="/assets/js/106.4a1a1e6d.js"><link rel="prefetch" href="/assets/js/107.53190e25.js"><link rel="prefetch" href="/assets/js/108.afb416d9.js"><link rel="prefetch" href="/assets/js/109.9c89f8cf.js"><link rel="prefetch" href="/assets/js/11.efe147a8.js"><link rel="prefetch" href="/assets/js/110.77f01a7c.js"><link rel="prefetch" href="/assets/js/111.f8ccec3a.js"><link rel="prefetch" href="/assets/js/112.a1b70a36.js"><link rel="prefetch" href="/assets/js/113.f74d3176.js"><link rel="prefetch" href="/assets/js/114.9f4f70ac.js"><link rel="prefetch" href="/assets/js/115.3e915f82.js"><link rel="prefetch" href="/assets/js/116.21d4d9f8.js"><link rel="prefetch" href="/assets/js/117.ed1ac975.js"><link rel="prefetch" href="/assets/js/118.b60ec45f.js"><link rel="prefetch" href="/assets/js/119.a28f9722.js"><link rel="prefetch" href="/assets/js/12.f8166b62.js"><link rel="prefetch" href="/assets/js/120.5f45ba33.js"><link rel="prefetch" href="/assets/js/121.e2c73c6e.js"><link rel="prefetch" href="/assets/js/122.bea0d35f.js"><link rel="prefetch" href="/assets/js/123.4918a056.js"><link rel="prefetch" href="/assets/js/124.e9d5fd6b.js"><link rel="prefetch" href="/assets/js/125.378cd9ad.js"><link rel="prefetch" href="/assets/js/126.785be7e4.js"><link rel="prefetch" href="/assets/js/127.2dfe1120.js"><link rel="prefetch" href="/assets/js/128.0eeadbcb.js"><link rel="prefetch" href="/assets/js/129.ffd3ffd2.js"><link rel="prefetch" href="/assets/js/13.669aa6cb.js"><link rel="prefetch" href="/assets/js/130.e3caaa90.js"><link rel="prefetch" href="/assets/js/131.8914dd22.js"><link rel="prefetch" href="/assets/js/132.0ae37932.js"><link rel="prefetch" href="/assets/js/133.e989899b.js"><link rel="prefetch" href="/assets/js/134.ea062f20.js"><link rel="prefetch" href="/assets/js/135.6c137b49.js"><link rel="prefetch" href="/assets/js/14.c9aa70a1.js"><link rel="prefetch" href="/assets/js/15.3d05e5f2.js"><link rel="prefetch" href="/assets/js/16.360281d8.js"><link rel="prefetch" href="/assets/js/17.ff7cabb3.js"><link rel="prefetch" href="/assets/js/18.be16eeed.js"><link rel="prefetch" href="/assets/js/19.81b3a31e.js"><link rel="prefetch" href="/assets/js/20.472bc449.js"><link rel="prefetch" href="/assets/js/21.86395f2b.js"><link rel="prefetch" href="/assets/js/22.6c69ed50.js"><link rel="prefetch" href="/assets/js/23.2f198631.js"><link rel="prefetch" href="/assets/js/24.748c9bc2.js"><link rel="prefetch" href="/assets/js/25.c5065323.js"><link rel="prefetch" href="/assets/js/26.61d441a1.js"><link rel="prefetch" href="/assets/js/27.bfd0a986.js"><link rel="prefetch" href="/assets/js/28.bafeb054.js"><link rel="prefetch" href="/assets/js/3.7f8809fd.js"><link rel="prefetch" href="/assets/js/30.8bb40757.js"><link rel="prefetch" href="/assets/js/31.eac619f5.js"><link rel="prefetch" href="/assets/js/32.04c63c5c.js"><link rel="prefetch" href="/assets/js/33.ae09c55e.js"><link rel="prefetch" href="/assets/js/34.1145a6f4.js"><link rel="prefetch" href="/assets/js/35.feb9083f.js"><link rel="prefetch" href="/assets/js/36.a586ce8a.js"><link rel="prefetch" href="/assets/js/37.c61e20e9.js"><link rel="prefetch" href="/assets/js/38.991c3427.js"><link rel="prefetch" href="/assets/js/39.23356a49.js"><link rel="prefetch" href="/assets/js/4.6819ae80.js"><link rel="prefetch" href="/assets/js/40.a3ca9111.js"><link rel="prefetch" href="/assets/js/41.649b9d9b.js"><link rel="prefetch" href="/assets/js/42.fde8ad7b.js"><link rel="prefetch" href="/assets/js/43.2d876a7c.js"><link rel="prefetch" href="/assets/js/44.64c20de7.js"><link rel="prefetch" href="/assets/js/45.a901a632.js"><link rel="prefetch" href="/assets/js/46.4ac83b64.js"><link rel="prefetch" href="/assets/js/47.2b45c49a.js"><link rel="prefetch" href="/assets/js/48.2bc12623.js"><link rel="prefetch" href="/assets/js/49.52a95dcd.js"><link rel="prefetch" href="/assets/js/5.20de2bc4.js"><link rel="prefetch" href="/assets/js/50.f445c922.js"><link rel="prefetch" href="/assets/js/51.07570e18.js"><link rel="prefetch" href="/assets/js/52.cf21a2b8.js"><link rel="prefetch" href="/assets/js/53.77792ddd.js"><link rel="prefetch" href="/assets/js/54.f19c487a.js"><link rel="prefetch" href="/assets/js/55.7fb0d05b.js"><link rel="prefetch" href="/assets/js/56.62fd0b66.js"><link rel="prefetch" href="/assets/js/57.1d6b0809.js"><link rel="prefetch" href="/assets/js/58.1aed920b.js"><link rel="prefetch" href="/assets/js/59.c2ab9dbe.js"><link rel="prefetch" href="/assets/js/6.e9784f3e.js"><link rel="prefetch" href="/assets/js/60.f4e387a9.js"><link rel="prefetch" href="/assets/js/61.735cc066.js"><link rel="prefetch" href="/assets/js/62.312489f2.js"><link rel="prefetch" href="/assets/js/63.dd2a2d4e.js"><link rel="prefetch" href="/assets/js/64.67dfd073.js"><link rel="prefetch" href="/assets/js/65.c2c22de8.js"><link rel="prefetch" href="/assets/js/66.7ea30a4b.js"><link rel="prefetch" href="/assets/js/67.6913be8c.js"><link rel="prefetch" href="/assets/js/68.b743701c.js"><link rel="prefetch" href="/assets/js/69.088259eb.js"><link rel="prefetch" href="/assets/js/7.80ddef84.js"><link rel="prefetch" href="/assets/js/70.10e2101b.js"><link rel="prefetch" href="/assets/js/71.11121db3.js"><link rel="prefetch" href="/assets/js/72.38811b9b.js"><link rel="prefetch" href="/assets/js/73.b5030976.js"><link rel="prefetch" href="/assets/js/74.d218c8d5.js"><link rel="prefetch" href="/assets/js/75.89c8d415.js"><link rel="prefetch" href="/assets/js/76.998def7e.js"><link rel="prefetch" href="/assets/js/77.6cff4b72.js"><link rel="prefetch" href="/assets/js/78.45b13ba4.js"><link rel="prefetch" href="/assets/js/79.50d5b3d0.js"><link rel="prefetch" href="/assets/js/8.4ebeab97.js"><link rel="prefetch" href="/assets/js/80.e38925eb.js"><link rel="prefetch" href="/assets/js/81.c712e794.js"><link rel="prefetch" href="/assets/js/82.f4018c72.js"><link rel="prefetch" href="/assets/js/83.878fb392.js"><link rel="prefetch" href="/assets/js/84.7ddaa3ca.js"><link rel="prefetch" href="/assets/js/85.06c8fa8b.js"><link rel="prefetch" href="/assets/js/86.b889a2e3.js"><link rel="prefetch" href="/assets/js/87.2f3171f1.js"><link rel="prefetch" href="/assets/js/88.1b0c6839.js"><link rel="prefetch" href="/assets/js/89.293034a1.js"><link rel="prefetch" href="/assets/js/9.07e73bd0.js"><link rel="prefetch" href="/assets/js/90.cdd9df6a.js"><link rel="prefetch" href="/assets/js/91.e53063a5.js"><link rel="prefetch" href="/assets/js/92.0a41da3b.js"><link rel="prefetch" href="/assets/js/93.83c37c7e.js"><link rel="prefetch" href="/assets/js/94.14eea0cb.js"><link rel="prefetch" href="/assets/js/95.18279896.js"><link rel="prefetch" href="/assets/js/96.e06d8e4e.js"><link rel="prefetch" href="/assets/js/97.2b60994e.js"><link rel="prefetch" href="/assets/js/98.28ad17a5.js"><link rel="prefetch" href="/assets/js/99.2abf3996.js">
    <link rel="stylesheet" href="/assets/css/0.styles.98530cad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="lana's home" class="logo"> <span class="site-name can-hide">lana's home</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><span class="title">随笔</span> <span class="arrow down"></span></button> <button type="button" aria-label="随笔" class="mobile-dropdown-title"><span class="title">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/html5/" class="nav-link">
  Html5
</a></li><li class="dropdown-subitem"><a href="/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-subitem"><a href="/front/js/" class="nav-link">
  js
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/backend/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-subitem"><a href="/backend/mongodb/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Mongodb
</a></li></ul></li><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/guide.html" class="nav-link">
  指引
</a></div><div class="nav-item"><a href="https://gitee.com/lanasine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cats1/vuepresshome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随笔" class="dropdown-title"><span class="title">随笔</span> <span class="arrow down"></span></button> <button type="button" aria-label="随笔" class="mobile-dropdown-title"><span class="title">随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/html5/" class="nav-link">
  Html5
</a></li><li class="dropdown-subitem"><a href="/front/css/" class="nav-link">
  Css
</a></li><li class="dropdown-subitem"><a href="/front/js/" class="nav-link">
  js
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-subitem"><a href="/backend/koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-subitem"><a href="/backend/mongodb/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Mongodb
</a></li></ul></li><li class="dropdown-item"><h4>
          服务器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/guide.html" class="nav-link">
  指引
</a></div><div class="nav-item"><a href="https://gitee.com/lanasine" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cats1/vuepresshome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Backend</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Api</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Koa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Mongodb</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/backend/mongodb/" aria-current="page" class="active sidebar-link">mongodb</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/mongodb/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/backend/mongodb/#使用" class="sidebar-link">使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/mongodb/#命令" class="sidebar-link">命令</a></li><li class="sidebar-sub-header"><a href="/backend/mongodb/#连接" class="sidebar-link">连接</a></li><li class="sidebar-sub-header"><a href="/backend/mongodb/#linux安装使用mongodb" class="sidebar-link">linux安装使用mongodb</a></li></ul></li><li class="sidebar-sub-header"><a href="/backend/mongodb/#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/mongodb/#命令-2" class="sidebar-link">命令</a></li></ul></li></ul></li><li><a href="/backend/mongodb/middleware.html" class="sidebar-link">中间件</a></li><li><a href="/backend/mongodb/model.html" class="sidebar-link">Model</a></li><li><a href="/backend/mongodb/mongoose.html" class="sidebar-link">mongoose</a></li><li><a href="/backend/mongodb/schma.html" class="sidebar-link">Schema（模式）</a></li><li><a href="/backend/mongodb/ru-men.html" class="sidebar-link">MongoDB：入门</a></li><li><a href="/backend/mongodb/qi-dong.html" class="sidebar-link">启动</a></li><li><a href="/backend/mongodb/shu-ju-ku-guan-li.html" class="sidebar-link">MongoDB：数据库管理</a></li><li><a href="/backend/mongodb/wen-dang-zeng-shan-gai-cha.html" class="sidebar-link">文档增删改查</a></li><li><a href="/backend/mongodb/yong-hu-quan-xian.html" class="sidebar-link">用户权限</a></li><li><a href="/backend/mongodb/lian-jie-shi-bai.html" class="sidebar-link">connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodb Error: coul</a></li><li><a href="/backend/mongodb/ji-he-guan-li.html" class="sidebar-link">MongoDB：集合管理</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Front</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mongodb"><a href="#mongodb" class="header-anchor">#</a> mongodb</h1> <p><a href="https://docs.mongodb.com/manual/reference/method/js-user-management/" target="_blank" rel="noopener noreferrer">参考文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mongoing.com/archives/docs/mongodb%e5%88%9d%e5%ad%a6%e8%80%85%e6%95%99%e7%a8%8b/%e5%a6%82%e4%bd%95%e5%9c%a8mongodb%e4%b8%ad%e5%88%9b%e5%bb%ba%e7%94%a8%e6%88%b7%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2" target="_blank" rel="noopener noreferrer">中文参考文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.mongodb.org.cn/manual/104.html" target="_blank" rel="noopener noreferrer">中文参考文档1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <h2 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h2> <p>关于 Mongodb 4.x</p> <p>1）3.x 步骤</p> <div class="language- extra-class"><pre><code>安装
环境变量配置path
启动mongodb服务 mongod --dbpath 跟上存储路径开启服务
再次启动一个客户端：mongo 即可！
</code></pre></div><p>注：4.x 与3.x基本相同，但是无需指定存储路径，在安装的时候，要求配置(举例为windows环境下)2 ）<strong>4.x 步骤</strong></p> <ul><li>安装(可选可视化工具，windows环境下)</li> <li>环境变量Path配置</li> <li>直接用 mongo (相关服务直接写入开启任务中)</li></ul> <p>https://blog.csdn.net/Tyro_java/article/details/105261282</p> <h3 id="命令"><a href="#命令" class="header-anchor">#</a> 命令</h3> <h4 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h4> <p>启动MongoDB服务</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>net start MongoDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>方法一：（该方法缺点每次启动都要输入命令）</p> <ol><li>打开命令窗口，切换到mongodb安装目录下的“bin”目录中。</li> <li>启动服务。输入命令：”mongod --dbpath E:\software\MongoDB\data“ 注：--dbpath是指定数据库存放目录，要注意dbpath前有两个“-”。</li> <li>命令窗口中打印一些启动信息，则表示启动成功。</li> <li>打开http://localhost:27017/即可看到登录信息，表示mongodb服务已启动成功，关闭命令窗口即可关闭mongodb服务。</li></ol> <p>方法二：</p> <ol><li>打开命令窗口，切换到mongodb安装目录下的“bin”目录中。</li> <li>输入命令：mongod.exe --logpath E:\software\MongoDB\data\log\mongodb.log  --logappend --dbpath E:\software\MongoDB\data --directoryperdb  --serviceName MongoDB --install</li> <li>开启服务。输入命令“net start MongoDB”。</li></ol> <p>方法三:</p> <p>创建一个配置文件位于 C:\mongodb\mongod.cfg，其中指定 systemLog.path 和 storage.dbPath。具体配置内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>systemLog:
    destination: file
    path: c:\data\log\mongod.log
storage:
    dbPath: c:\data\db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>输入命令启动</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mongod --config ./mongod.cfg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>mongodb.config</strong></p> <blockquote><p>dbpath=D:\MongoDB\data #数据库路径
logpath=D:\MongoDB\logs\mongodb.log #日志输出文件路径
logappend=true #错误日志采用追加模式
journal=true #启用日志文件，默认启用
quiet=true #过滤掉无用的日志信息，若需要调试使用请设置为false
port=27017 #端口号 默认为27017</p></blockquote> <p>认证启动：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">.</span>/mongod <span class="token operator">--</span>dbpath <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">MongoDB</span>\<span class="token class-name">Server</span>\<span class="token number">4.4</span>\data <span class="token operator">--</span>logpath <span class="token class-name">C</span><span class="token operator">:</span>\<span class="token class-name">MongoDB</span>\<span class="token class-name">Server</span>\<span class="token number">4.4</span>\log\mongod<span class="token punctuation">.</span>log <span class="token operator">--</span>auth <span class="token operator">--</span>logappend <span class="token operator">--</span>port<span class="token operator">=</span><span class="token number">27017</span> <span class="token operator">--</span>fork
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="mongodb初始化创建管理员账户登录"><a href="#mongodb初始化创建管理员账户登录" class="header-anchor">#</a> MongoDB初始化创建管理员账户登录</h4> <p>查看mongodb服务是否开启：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ps -ef | grep mongod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>管理员角色必须在启用--auth认证参数之前创建，否则会没有操作权限。如果之前已经创建过用户，请先删除。</p> <p>kill掉mongod服务，重新启动，以noauth模式启动：</p> <p>mongod --dbpath /var/log/mongodb/ --storageEngine=mmapv1 --smallfiles --logappend --logpath /var/log/mongodb/mongodb.log --noauth --fork</p> <p>mongo</p> <p>use admin</p> <p>db.system.users.remove({}) --&gt; 删除所有用户</p> <p>db.createUser({ user: &quot;root&quot;, pwd: &quot;123456&quot;, roles: [ { role: &quot;root&quot;, db: &quot;admin&quot;} ]}) --&gt; 创建新用户，设置用户名密码</p> <p>设置好新的管理员用户，以验证模式，重启mongod服务：</p> <p>mongo admin -u root -p &quot;123456&quot;</p> <p>mongo -u accountAdmin01 -p yourpassward --authenticationDatabase products</p> <p>root是最高权限可以管理所有数据库</p> <p>创建用户</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createUser(user, writeConcern)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>user这个文档创建关于用户的身份认证和访问信息；
writeConcern这个文档描述保证MongoDB提供写操作的成功报告。</p></blockquote> <p><strong>user文档字段介绍：</strong></p> <blockquote><p>user字段，为新用户的名字；
pwd字段，用户的密码；
cusomData字段，为任意内容，例如可以为用户全名介绍；
roles字段，指定用户的角色，可以用一个空数组给新用户设定空角色；在roles字段,可以指定内置角色和用户定义的角色。</p></blockquote> <p>​      内置角色</p> <ol><li>数据库用户角色：read、readWrite;</li> <li>数据库管理角色：dbAdmin、dbOwner、userAdmin；</li> <li>集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManager；</li> <li>备份恢复角色：backup、restore；</li> <li>所有数据库角色：readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase</li> <li>超级用户角色：root
// 这里还有几个角色间接或直接提供了系统超级用户的访问（dbOwner 、userAdmin、userAdminAnyDatabase）</li> <li>内部角色：__system
PS：关于每个角色所拥有的操作权限可以点击上面的内置角色链接查看详情。</li></ol> <p><strong>writeConcern</strong></p> <ol><li>w选项：允许的值分别是 1、0、大于1的值、&quot;majority&quot;、<tag set="">；</tag></li> <li>j选项：确保mongod实例写数据到磁盘上的journal（日志），这可以确保mongd以外关闭不会丢失数据。设置true启用。</li> <li>wtimeout：指定一个时间限制,以毫秒为单位。wtimeout只适用于w值大于1。</li></ol> <h4 id="关闭"><a href="#关闭" class="header-anchor">#</a> 关闭</h4> <p>关闭MongoDB服务</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>net stop MongoDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="移除-mongodb-服务"><a href="#移除-mongodb-服务" class="header-anchor">#</a> 移除 MongoDB 服务</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>C:\mongodb\bin\mongod.exe --remove
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="连接"><a href="#连接" class="header-anchor">#</a> 连接</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="linux安装使用mongodb"><a href="#linux安装使用mongodb" class="header-anchor">#</a> linux安装使用mongodb</h3> <h4 id="启动服务"><a href="#启动服务" class="header-anchor">#</a> 启动服务</h4> <p>方法一：</p> <p>增加配置文件启动配置文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>./mongod -f ./mongodb.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>方法二：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>./mongod --dbpath=/data/db  --logpath=/data/logs
./mongod --dbpath=/data/db  --fork --logpath=/data/logs //使用--fork参数常驻启动
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="关闭服务"><a href="#关闭服务" class="header-anchor">#</a> 关闭服务</h4> <p>方法一:</p> <p>进入shell 执行<code>db.shutdownServer();</code>命令</p> <p>方法二：</p> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>MongoDB的数据逻辑结构：文档（document）、集合（collection）、数据库（database）。</p> <ul><li>文档（document）：由键值对构成，相当于关系数据库中的一行记录。</li> <li>集合（collection）：多个文档组成一个集合，相当于关系数据库的表。</li> <li>数据库（database）：多个集合逻辑上组织在一起，就是数据库。</li></ul> <p>一个 MongoDB 实例支持多个数据库（database）。
<img src="/mongodb/gb.png" alt="dock"></p> <table><thead><tr><th>关系型数据库</th> <th>mongodb</th></tr></thead> <tbody><tr><td>table</td> <td>collection</td></tr> <tr><td>row</td> <td>document</td></tr> <tr><td>column</td> <td>index</td></tr> <tr><td>table joins</td> <td>populate</td></tr> <tr><td>primary key</td> <td>_id</td></tr></tbody></table> <p>需要注意的是：</p> <ol><li>文档中的键/值对是有序的。</li> <li>文档中的值不仅可以是在双引号里面的字符串，还可以是其他几种数据类型（甚至可以是整个嵌入的文档)。</li> <li>MongoDB区分类型和大小写。</li> <li>MongoDB的文档不能有重复的键。</li> <li>文档的键是字符串。除了少数例外情况，键可以使用任意UTF-8字符。</li></ol> <p>文档键命名规范：</p> <ul><li>键不能含有\0 (空字符)。这个字符用来表示键的结尾。</li> <li>.和$有特别的意义，只有在特定环境下才能使用。</li> <li>以下划线&quot;_&quot;开头的键是保留的(不是严格要求的)</li></ul> <h3 id="命令-2"><a href="#命令-2" class="header-anchor">#</a> 命令</h3> <h4 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>use dbname //创建数据库
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.dropDatabase()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="查看所有数据库"><a href="#查看所有数据库" class="header-anchor">#</a> 查看所有数据库</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>show dbs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="显示当前数据库对象或集合"><a href="#显示当前数据库对象或集合" class="header-anchor">#</a> 显示当前数据库对象或集合</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="连接到一个指定的数据库"><a href="#连接到一个指定的数据库" class="header-anchor">#</a> 连接到一个指定的数据库</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>use local //use dbname
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库。</p> <ul><li><strong>admin</strong>： 从权限的角度来看，这是&quot;root&quot;数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。</li> <li><strong>local:</strong> 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合</li> <li><strong>config</strong>: 当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。</li></ul> <h4 id="创建集合"><a href="#创建集合" class="header-anchor">#</a> 创建集合</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(name, options)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <blockquote><ul><li>name: 要创建的集合名称</li> <li>options: 可选参数, 指定有关内存大小及索引的选项</li></ul></blockquote> <p>创建固定集合  mycol，整个集合空间大小 6142800 KB, 文档最大个数为 10000 个。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(&quot;mycol&quot;, { capped : true, autoIndexId : true, size : 6142800, max : 10000 } )
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="删除集合"><a href="#删除集合" class="header-anchor">#</a> 删除集合</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.collection.drop()//collection集合名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="查看集合"><a href="#查看集合" class="header-anchor">#</a> 查看集合</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>show collections
//or 
show tables
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="创建文档"><a href="#创建文档" class="header-anchor">#</a> 创建文档</h4> <p>MongoDB 使用 insert() 或 save() 方法向集合中插入文档，语法如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.COLLECTION_NAME.insert(document)
//or
db.COLLECTION_NAME.save(document)
db.collection.insertOne()
db.collection.insertMany() 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><ul><li>save()：如果 _id 主键存在则更新数据，如果不存在就插入数据。该方法新版本中已废弃，可以使用 <strong>db.collection.insertOne()</strong> 或 <strong>db.collection.replaceOne()</strong> 来代替。</li> <li>insert(): 若插入的数据主键已经存在，则会抛 <strong>org.springframework.dao.DuplicateKeyException</strong> 异常，提示主键重复，不保存当前数据。</li></ul></blockquote> <h4 id="删除文档"><a href="#删除文档" class="header-anchor">#</a> 删除文档</h4> <h4 id="修改文档"><a href="#修改文档" class="header-anchor">#</a> 修改文档</h4> <h4 id="查询文档"><a href="#查询文档" class="header-anchor">#</a> 查询文档</h4> <p>MongoDB 查询数据的语法格式如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.collection.find(query, projection)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>query</strong> ：可选，使用查询操作符指定查询条件</li> <li><strong>projection</strong> ：可选，使用投影操作符指定返回的键。查询时返回文档中所有键值， 只需省略该参数即可（默认省略）。</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/cats1/vuepresshome/edit/main/docs/backend/mongodb/README.md" target="_blank" rel="noopener noreferrer">有问题需改善此页面!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/backend/koa/upload.html" class="prev">
        上传文件
      </a></span> <span class="next"><a href="/backend/mongodb/middleware.html">
        中间件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a4743452.js" defer></script><script src="/assets/js/2.b72805e3.js" defer></script><script src="/assets/js/29.0d2a1bfd.js" defer></script>
  </body>
</html>
