(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{381:function(t,a,r){"use strict";r.r(a);var v=r(42),_=Object(v.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"控制器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#控制器"}},[t._v("#")]),t._v(" 控制器")]),t._v(" "),r("h2",{attrs:{id:"什么是控制器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是控制器"}},[t._v("#")]),t._v(" 什么是控制器")]),t._v(" "),r("ul",[r("li",[t._v("拿到路由分配的任务，并执行")]),t._v(" "),r("li",[t._v("在Koa中，是一个中间件")])]),t._v(" "),r("h2",{attrs:{id:"为什么要控制器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么要控制器"}},[t._v("#")]),t._v(" 为什么要控制器？")]),t._v(" "),r("ul",[r("li",[t._v("获取 HTTP 请求参数")]),t._v(" "),r("li",[t._v("处理业务逻辑")]),t._v(" "),r("li",[t._v("发送 HTTP 响应")])]),t._v(" "),r("h2",{attrs:{id:"获取-http-请求参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#获取-http-请求参数"}},[t._v("#")]),t._v(" 获取 HTTP 请求参数")]),t._v(" "),r("ul",[r("li",[t._v("Query String，如?q=keyword，是可选项")]),t._v(" "),r("li",[t._v("Router Params，如/user/:id，是必选项")]),t._v(" "),r("li",[t._v('Body，如{name: "李雷"}，请求体，一般为json')]),t._v(" "),r("li",[t._v("Header，如Accept、Cookie")])]),t._v(" "),r("h2",{attrs:{id:"发送-http-响应"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#发送-http-响应"}},[t._v("#")]),t._v(" 发送 HTTP 响应")]),t._v(" "),r("ul",[r("li",[t._v("发送 Status，如 200/400 等")]),t._v(" "),r("li",[t._v('发动 Body，如{name: "李雷"}')]),t._v(" "),r("li",[t._v("发送 Header，如 Allow、 Content-type")])]),t._v(" "),r("h2",{attrs:{id:"编写控制器最佳实践"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编写控制器最佳实践"}},[t._v("#")]),t._v(" 编写控制器最佳实践")]),t._v(" "),r("ul",[r("li",[t._v("每个资源的控制器放在不同的文件里")]),t._v(" "),r("li",[t._v("尽量使用类+类方法的形式编写控制器")]),t._v(" "),r("li",[t._v("严谨的错误处理")])])])}),[],!1,null,null,null);a.default=_.exports}}]);