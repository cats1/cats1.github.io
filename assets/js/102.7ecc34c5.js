(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{465:function(v,_,o){"use strict";o.r(_);var e=o(42),t=Object(e.a)({},(function(){var v=this,_=v.$createElement,o=v._self._c||_;return o("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[o("h1",{attrs:{id:"本地存储"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#本地存储"}},[v._v("#")]),v._v(" 本地存储")]),v._v(" "),o("p",[v._v("浏览器的本地存储主要分为 "),o("code",[v._v("Cookie")]),v._v("、"),o("code",[v._v("Web Storage")]),v._v(" 和 "),o("code",[v._v("IndexedDB")]),v._v("。")]),v._v(" "),o("p",[v._v("而 "),o("code",[v._v("Web Storage")]),v._v(" 分为 "),o("code",[v._v("Local Storage")]),v._v(" 和 "),o("code",[v._v("Session Storage")]),v._v("。")]),v._v(" "),o("h2",{attrs:{id:"cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[v._v("#")]),v._v(" Cookie")]),v._v(" "),o("p",[v._v("缺陷：")]),v._v(" "),o("ol",[o("li",[o("strong",[v._v("容量缺陷")]),v._v("。体积上线 "),o("code",[v._v("4kb")]),v._v("，只能存储少量信息。")]),v._v(" "),o("li",[o("strong",[v._v("性能缺陷")]),v._v("。"),o("code",[v._v("Cookie")]),v._v(" 请求每次都会携带上完整的 "),o("code",[v._v("Cookie")]),v._v("，随着请求数增多，造成性能浪费。")]),v._v(" "),o("li",[o("strong",[v._v("安全缺陷")]),v._v("。以纯文本的形式在浏览器和服务器中传递，容易被非法截获和篡改。")])]),v._v(" "),o("h2",{attrs:{id:"web-storage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[v._v("#")]),v._v(" Web Storage")]),v._v(" "),o("h3",{attrs:{id:"local-storage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#local-storage"}},[v._v("#")]),v._v(" Local Storage")]),v._v(" "),o("p",[v._v("优势：")]),v._v(" "),o("ol",[o("li",[o("strong",[v._v("容量")]),v._v("。体积上线 "),o("code",[v._v("5M")]),v._v("，大于 "),o("code",[v._v("Cookie")]),v._v(" 的 "),o("code",[v._v("4kb")]),v._v("。")]),v._v(" "),o("li",[o("strong",[v._v("只存在客户端")]),v._v("。不参与和服务端的通讯，避免 "),o("code",[v._v("Cookie")]),v._v(" 的性能缺陷和安全缺陷。")]),v._v(" "),o("li",[o("strong",[v._v("接口封装")]),v._v("。有 "),o("code",[v._v("setItem")]),v._v(" 和 "),o("code",[v._v("getItem")]),v._v(" 两个 API 接口。")])]),v._v(" "),o("p",[o("strong",[v._v("应用场景")]),v._v("：")]),v._v(" "),o("ul",[o("li",[v._v("以 "),o("code",[v._v("Base64")]),v._v(" 方式存储官方 Logo 等图片。")])]),v._v(" "),o("h3",{attrs:{id:"session-storage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#session-storage"}},[v._v("#")]),v._v(" Session Storage")]),v._v(" "),o("p",[v._v("优势：")]),v._v(" "),o("ol",[o("li",[o("strong",[v._v("容量")]),v._v("。体积上线 "),o("code",[v._v("5M")]),v._v("，大于 "),o("code",[v._v("Cookie")]),v._v(" 的 "),o("code",[v._v("4kb")]),v._v("。")]),v._v(" "),o("li",[o("strong",[v._v("只存在客户端")]),v._v("。不参与和服务端的通讯，避免 "),o("code",[v._v("Cookie")]),v._v(" 的性能缺陷和安全缺陷。")]),v._v(" "),o("li",[o("strong",[v._v("接口封装")]),v._v("。有 "),o("code",[v._v("setItem")]),v._v(" 和 "),o("code",[v._v("getItem")]),v._v(" 两个 API 接口。")])]),v._v(" "),o("p",[v._v("与Local Storage不同：会话级别的存储。不同于 "),o("code",[v._v("Local Storage")]),v._v(" 的持续化存储，"),o("code",[v._v("Session Storage")]),v._v(" 当页面关闭的时候就不复存在了。")]),v._v(" "),o("p",[o("strong",[v._v("应用场景")]),v._v("：")]),v._v(" "),o("ol",[o("li",[v._v("对表单信息做维护。用户刷新页面不丢失。")]),v._v(" "),o("li",[v._v("存储本次浏览记录。看过的页面不怕找不到。")])]),v._v(" "),o("h2",{attrs:{id:"indexeddb"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#indexeddb"}},[v._v("#")]),v._v(" IndexedDB")]),v._v(" "),o("p",[o("code",[v._v("IndexedDB")]),v._v(" 是运行在浏览器中的 "),o("strong",[v._v("非关系型数据库")]),v._v("。")]),v._v(" "),o("p",[v._v("因为本质上是数据库，所以一般来说容量是没有上线的。")]),v._v(" "),o("h2",{attrs:{id:"token"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[v._v("#")]),v._v(" token")]),v._v(" "),o("p",[v._v("token是用户身份的验证方式，我们通常叫它：令牌。")]),v._v(" "),o("p",[v._v("token认证流程：")]),v._v(" "),o("p",[v._v("1，用户登录校验，校验成功后就返回Token给客户端，")]),v._v(" "),o("p",[v._v("2，客户端收到数据后就保存在客户端，")]),v._v(" "),o("p",[v._v("3，客户端每次访问api就携带Token到服务端 ，")]),v._v(" "),o("p",[v._v("4，服务端采用filter过滤器校验，校验成功后返回请求数据，校验失败则返回校验码；")]),v._v(" "),o("h1",{attrs:{id:"sessionstorage-、localstorage和cookie之间的区别"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage-、localstorage和cookie之间的区别"}},[v._v("#")]),v._v(" sessionStorage 、localStorage和cookie之间的区别")]),v._v(" "),o("p",[v._v("共同点：都是保存在浏览器端，且都遵循同源策略。\n不同点：在于生命周期与作用域的不同。")]),v._v(" "),o("p",[v._v("作用域：")]),v._v(" "),o("ul",[o("li",[v._v("localStorage只要在相同的协议、相同的主机名、相同的端口下，就能读取/修改到同一份localStorage数据。")]),v._v(" "),o("li",[v._v("sessionStorage比localStorage更严苛一点，除了协议、主机名、端口外，还要求在同一窗口（也就是浏览器的标签页）下")])]),v._v(" "),o("p",[o("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191009100538456.png",alt:"img"}})]),v._v(" "),o("p",[v._v("生命周期：")]),v._v(" "),o("ul",[o("li",[v._v("localStorage 是持久化的本地存储，存储在其中的数据是永远不会过期的，使其消失的唯一办法是手动删除")]),v._v(" "),o("li",[v._v("sessionStorage是临时性的本地存储，它是会话级别的存储，当会话结束（页面被关闭）时，存储内容也随之被释放")]),v._v(" "),o("li",[v._v("cookie一般由服务器生成，可设置失效时间，如果在浏览器端生成cookie，默认关闭浏览器后失效。")])]),v._v(" "),o("p",[v._v("存放数据大小")]),v._v(" "),o("ul",[o("li",[v._v("cookie大约在4k左右")]),v._v(" "),o("li",[v._v("localStorage和SessionStorage一般为5MB左右")])]),v._v(" "),o("p",[v._v("与服务端通信：")]),v._v(" "),o("ul",[o("li",[v._v("cookie每次都携带在HTTP的头中，如果使用cookie保存过多数据会带来性能问题。")]),v._v(" "),o("li",[v._v("localStorage和SessionStorage仅在客户端(浏览器)中保存，不参与服务端通信。")])]),v._v(" "),o("p",[v._v("易用性：")]),v._v(" "),o("p",[v._v("cookie需要程序员自己封装，源生的cookie接口不友好")]),v._v(" "),o("p",[v._v("local/session源生接口可以接受")])])}),[],!1,null,null,null);_.default=t.exports}}]);