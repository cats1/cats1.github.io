(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{469:function(t,v,_){"use strict";_.r(v);var e=_(42),s=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"跨域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),_("h2",{attrs:{id:"什么是跨域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是跨域"}},[t._v("#")]),t._v(" 什么是跨域？")]),t._v(" "),_("p",[t._v("通俗一点来讲跨域是指一个域下的文档或脚本试图去请求另外一个域下的资源，这样就产生了跨域。")]),t._v(" "),_("p",[_("code",[t._v("域:")]),t._v(" 是指计算机网络中的一种形式， 在域中使用计算机的每个人都会收到一个唯一的用户帐户，然后可以为该帐户分配对该域内资源的访问权限。")]),t._v(" "),_("p",[t._v('前端最常遇到的跨域应该就是浏览器请求资源跨域，专业一点来讲就是受到了浏览器同源策略的限制； 所谓同源是指"协议+域名+端口"三者相同，即便两个不同的域名指向同一个ip地址，也非同源。')]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("URL")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("是否允许通信")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("http://www.test.com"),_("br"),t._v("http://www.test.com")]),t._v(" "),_("td",[t._v("同一域名")]),t._v(" "),_("td",[t._v("允许")])]),t._v(" "),_("tr",[_("td",[t._v("http://www.test.com:8080"),_("br"),t._v("http://www.test.com:8081")]),t._v(" "),_("td",[t._v("同一域名不同端口")]),t._v(" "),_("td",[t._v("不允许")])]),t._v(" "),_("tr",[_("td",[t._v("http://www.test.com"),_("br"),t._v("https://www.test.com")]),t._v(" "),_("td",[t._v("同一域名不同协议")]),t._v(" "),_("td",[t._v("不允许")])]),t._v(" "),_("tr",[_("td",[t._v("http://www.test.com"),_("br"),t._v("http://192.168.1.37")]),t._v(" "),_("td",[t._v("域名和域名对应的响应IP")]),t._v(" "),_("td",[t._v("不允许")])]),t._v(" "),_("tr",[_("td",[t._v("http://www.test.com"),_("br"),t._v("http://www.test1.com")]),t._v(" "),_("td",[t._v("不同域名")]),t._v(" "),_("td",[t._v("不允许")])])])]),t._v(" "),_("p",[t._v("解决方法")]),t._v(" "),_("p",[t._v("1、jsonp")]),t._v(" "),_("p",[t._v("2、cors跨域资源共享")]),t._v(" "),_("p",[t._v("跨域资源共享，使用最多的解决方案，通过服务端来设置 "),_("code",[t._v("Access-Control-Allow-Origin")]),t._v(" 即可，简单，快捷；CORS也已经成为主流的跨域解决方案。 普通跨域请求：只服务端设置Access-Control-Allow-Origin即可，若要带cookie请求：前后端都需要设置。")]),t._v(" "),_("p",[_("code",[t._v("vue")]),t._v("  框架，大家目前使用较多的就是 "),_("code",[t._v("axios 和 vue-resource")]),t._v("  了， 那么它们两个呢都需要简单设置一下：")]),t._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("//axios设置：\naxios.defaults.withCredentials = true\n//vue-resource设置：\nVue.http.options.credentials = true\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br")])])])}),[],!1,null,null,null);v.default=s.exports}}]);